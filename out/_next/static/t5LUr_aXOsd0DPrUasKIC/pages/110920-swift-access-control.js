(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{CZVI:function(e,t,a){"use strict";a.d(t,"a",(function(){return w}));var c=a("wx14"),n=a("Ff2n"),s=a("q1tI"),o=a.n(s),l=a("8Kt/"),r=a.n(l),i=o.a.createElement;function b(e){var t=e.children;return i("h1",{className:"text-5xl leading-14 font-bold text-gray-900 tracking-tight sm:text-4xl sm:leading-10 md:text-5xl md:leading-14"},t)}var p=a("SYun"),d=a.n(p),m=a("YFqc"),j=a.n(m),O=a("nOHt"),N=a("7ljp"),u=o.a.createElement,h={pre:function(e){var t=e.className,a=Object(n.a)(e,["className"]);return u("pre",Object(c.a)({className:"".concat(t," rounded-md bg-gray-800 py-3 px-4 overflow-x-auto")},a))},"pre.code":function(e){var t=e.className,a=Object(n.a)(e,["className"]);return u("code",Object(c.a)({className:"".concat(t," text-gray-200")},a))}},x=d()("{dddd}, {MMMM} {DD}, {YYYY}");function w(e){var t=e.meta,a=e.children,c=e.posts,n=Object(O.useRouter)(),s=c.findIndex((function(e){return e.link===n.pathname})),o=c[s+1],l=c[s-1];return u("article",{className:"xl:divide-y xl:divide-gray-200"},u(r.a,null,u("title",null,t.title," \u2013 Tailwind CSS"),u("meta",{name:"twitter:card",content:"summary_large_image"}),u("meta",{name:"twitter:site",content:"@waynedahlberg"}),u("meta",{name:"twitter:creator",content:"@waynedahlberg"}),u("meta",{name:"twitter:title",content:"".concat(t.title," \u2013 Wayne Dahlberg")}),u("meta",{name:"twitter:description",content:t.description}),u("meta",{name:"twitter:image",content:"https://blog.tailwindcss.com".concat(t.image)}),u("meta",{property:"og:url",content:"https://blog.tailwindcss.com".concat(n.pathname)}),u("meta",{property:"og:type",content:"article"}),u("meta",{property:"og:title",content:"".concat(t.title," \u2013 Wayne Dahlberg")}),u("meta",{property:"og:description",content:t.description}),u("meta",{property:"og:image",content:"https://blog.tailwindcss.com".concat(t.image)}),u("meta",{name:"description",content:t.description})),u("header",{className:"pt-6 xl:pb-10"},u("div",{className:"space-y-1 text-center"},u("dl",{className:"space-y-10"},u("div",null,u("dt",{className:"sr-only"},"Published on"),u("dd",{className:"text-sm leading-6 font-medium text-gray-500"},u("time",{dateTime:t.date},x.render(new Date(t.date)))))),u("div",null,u(b,null,t.title)))),u("div",{className:"divide-y xl:divide-y-0 divide-gray-200 xl:grid xl:grid-cols-4 xl:col-gap-6 pb-16 xl:pb-20",style:{gridTemplateRows:"auto 1fr"}},u("dl",{className:"pt-6 pb-10 xl:pt-11 xl:border-b xl:border-gray-200"},u("dt",{className:"sr-only"},"Authors"),u("dd",null,u("ul",{className:"flex justify-center xl:block space-x-8 sm:space-x-12 xl:space-x-0 xl:space-y-8"},t.authors.map((function(e){return u("li",{key:e.twitter,className:"flex items-center space-x-2"},u("img",{src:e.avatar,alt:"",className:"w-10 h-10 rounded-full"}),u("dl",{className:"text-sm font-medium leading-5 whitespace-no-wrap"},u("dt",{className:"sr-only"},"Name"),u("dd",{className:"text-gray-900"},e.name),u("dt",{className:"sr-only"},"Twitter"),u("dd",null,u("a",{href:"https://twitter.com/".concat(e.twitter),className:"text-teal-500 hover:text-teal-700"},e.twitter))))}))))),u("div",{className:"divide-y divide-gray-200 xl:pb-0 xl:col-span-3 xl:row-span-2"},u("div",{className:"prose max-w-none pt-10 pb-8"},u(N.a,{components:h},a))),u("footer",{className:"text-sm font-medium leading-5 divide-y divide-gray-200 xl:col-start-1 xl:row-start-2"},(l||o)&&u("div",{className:"space-y-8 py-8"},l&&u("div",null,u("h2",{className:"text-xs tracking-wide uppercase text-gray-500"},"Next Article"),u("div",{className:"text-teal-500 hover:text-teal-600"},u(j.a,{href:l.link},u("a",null,l.title)))),o&&u("div",null,u("h2",{className:"text-xs tracking-wide uppercase text-gray-500"},"Previous Article"),u("div",{className:"text-teal-500 hover:text-teal-700"},u(j.a,{href:o.link},u("a",null,o.title))))),u("div",{className:"pt-8"},u(j.a,{href:"/"},u("a",{className:"text-teal-500 hover:text-teal-700"},"\u2190 All Posts"))))))}},NRog:function(e,t,a){"use strict";t.a="/_next/static/media/hero-access-control.be6d63f8140b542c0a050a0bc9ebb461.png"},Qxux:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/110920-swift-access-control",function(){return a("Udrv")}])},Udrv:function(e,t,a){"use strict";a.r(t),a.d(t,"__N_SSG",(function(){return p})),a.d(t,"meta",(function(){return d})),a.d(t,"default",(function(){return O}));var c=a("Ff2n"),n=a("wx14"),s=a("q1tI"),o=a.n(s),l=a("7ljp"),r=a("CZVI"),i=a("iBhN"),b=a("NRog"),p=(o.a.createElement,!0),d={title:"Swift Access Control",description:"The basics of Swift Access Control.",date:"2020-11-09T16:00:00.000Z",authors:[i.a],discussion:"https://github.com/tailwindlabs/tailwindcss/discussions/2511"},m={meta:d},j=function(e){return Object(l.b)(r.a,Object(n.a)({meta:d},e))};function O(e){var t=e.components,a=Object(c.a)(e,["components"]);return Object(l.b)(j,Object(n.a)({},m,a,{components:t,mdxType:"MDXLayout"}),Object(l.b)("img",{src:b.a,alt:"Swift Access Control her image"}),Object(l.b)("p",null,"When writing stuctures, class and functions you need to let other code or even other developers know what is available and what is not. This is done by access control prefixing with ",Object(l.b)("inlineCode",{parentName:"p"},"public"),", ",Object(l.b)("inlineCode",{parentName:"p"},"open"),", ",Object(l.b)("inlineCode",{parentName:"p"},"internal"),", ",Object(l.b)("inlineCode",{parentName:"p"},"private"),", and ",Object(l.b)("inlineCode",{parentName:"p"},"fileprivate"),". Access control is another foundational concept that eluded me for years while learning the Swift language."),Object(l.b)("div",{class:"rounded-md bg-blue-50 p-4"},Object(l.b)("div",{class:"flex"},Object(l.b)("div",{class:"flex-shrink-0"},Object(l.b)("svg",{className:"h-5 w-5 text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor"},Object(l.b)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"}))),Object(l.b)("div",{class:"ml-3 flex-1 md:flex md:justify-between"},Object(l.b)("p",{class:"text-sm leading-5 text-blue-700"},"This is a another post in a series intended as a personal growth exercise. As I learn and digest new things, I want to write about them to solidify my understanding."),Object(l.b)("p",{class:"mt-3 text-sm leading-5 md:mt-0 md:ml-6"},Object(l.b)("a",{href:"https://fs.blog/2015/01/richard-feynman-knowing-something/",class:"whitespace-no-wrap font-medium text-blue-700 hover:text-blue-600 transition ease-in-out duration-150"},"Feynman \u2192"))))),Object(l.b)("p",null,"These features can restrict team members from accessing, extending or overriding the original implementation of some code. It's very useful when creating a framework or library that is intended to be shared openly among a developer community."),Object(l.b)("p",null,"Let's look at ",Object(l.b)("inlineCode",{parentName:"p"},"module"),"; an individual unit of code distribution, e.g. your app."),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"open")," and ",Object(l.b)("inlineCode",{parentName:"p"},"public")," are used to declare code accessibility across different modules."),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"internal"),", ",Object(l.b)("inlineCode",{parentName:"p"},"fileprivate")," and ",Object(l.b)("inlineCode",{parentName:"p"},"private")," are used at the Swift file level."),Object(l.b)("h3",null,Object(l.b)("inlineCode",{parentName:"h3"},"private")),Object(l.b)("pre",{className:"language-swift"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-Swift"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-gray-400 italic"}),"// Foo.swift"),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"struct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"FooStruct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"private")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"let")," privateStr ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"=")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-green"}),'"privateStr"'),"\n\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"func")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"fooPrintFunc"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n        ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"print"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-green"}),'"',Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),"\\("),"privateStr",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),")")),'"'),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"struct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"FooStructOne")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"var")," fooStruct ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"=")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"FooStruct"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n        ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"didSet")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n            fooStruct",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"."),"privateStr\n        ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-gray-400 italic"}),"// Bar.swift"),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"extension")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"FooStruct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"func")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"fooFunc"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n        ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"print"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-green"}),'"',Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),"\\("),"privateStr",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),")")),'"'),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n")),Object(l.b)("p",null,"Given the example above, ",Object(l.b)("inlineCode",{parentName:"p"},"FooStructOne")," tries to access the setter of ",Object(l.b)("inlineCode",{parentName:"p"},"FooStruct")," private property, but cannot because of ",Object(l.b)("inlineCode",{parentName:"p"},"private")," access control. Similarly, the ",Object(l.b)("inlineCode",{parentName:"p"},"FooStruct")," extension in ",Object(l.b)("inlineCode",{parentName:"p"},"Bar.swift")," cannot extend and print ",Object(l.b)("inlineCode",{parentName:"p"},"privateStr")," in ",Object(l.b)("inlineCode",{parentName:"p"},"Foo.swift")," because ",Object(l.b)("inlineCode",{parentName:"p"},"FooStruct")," is not contained in the same Swift file."),Object(l.b)("p",null,Object(l.b)("inlineCode",{parentName:"p"},"private")," means declared code such as ",Object(l.b)("inlineCode",{parentName:"p"},"class"),", ",Object(l.b)("inlineCode",{parentName:"p"},"struct"),", ",Object(l.b)("inlineCode",{parentName:"p"},"enum"),", ",Object(l.b)("inlineCode",{parentName:"p"},"property")," and ",Object(l.b)("inlineCode",{parentName:"p"},"method")," can only be accessed withing the current scope and enclosed type. Only extensions within the same Swift file can access ",Object(l.b)("inlineCode",{parentName:"p"},"private")," declared code."),Object(l.b)("p",null,"The scope of ",Object(l.b)("inlineCode",{parentName:"p"},"extension")," can only access those private properties when they are declared in the same file of the extended, declared code (",Object(l.b)("inlineCode",{parentName:"p"},"class"),", ",Object(l.b)("inlineCode",{parentName:"p"},"struct"),", ",Object(l.b)("inlineCode",{parentName:"p"},"enum"),", property, or method, etc.)."),Object(l.b)("h3",null,Object(l.b)("inlineCode",{parentName:"h3"},"fileprivate")),Object(l.b)("pre",{className:"language-swift"},Object(l.b)("code",Object(n.a)({parentName:"pre"},{className:"language-Swift"}),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"struct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"FooStruct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"private")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"let")," privateStr ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"=")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-green"}),'"privateStr"'),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"extension")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:""}),"FooStruct")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-purple"}),"func")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"fooFunc"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")")," ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"{"),"\n        ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-blue"}),"print"),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"("),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-green"}),'"',Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),"\\("),"privateStr",Object(l.b)("span",Object(n.a)({parentName:"span"},{className:""}),")")),'"'),Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),")"),"\n    ",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n",Object(l.b)("span",Object(n.a)({parentName:"code"},{className:"text-code-white"}),"}"),"\n")),Object(l.b)("p",null,"Each Swift file can contain classes, structs, enums, etc. ",Object(l.b)("inlineCode",{parentName:"p"},"fileprivate")," means the code can only be accessible within the same Swift file."),Object(l.b)("h3",null,Object(l.b)("inlineCode",{parentName:"h3"},"internal")),Object(l.b)("p",null,"is the default access control in the Swift language. Marking declared code as ",Object(l.b)("inlineCode",{parentName:"p"},"internal")," means it can be accessed within the same module (app) freely. Developers can even subclass, extend, and override classes, structs, properties and methods."),Object(l.b)("h3",null,Object(l.b)("inlineCode",{parentName:"h3"},"public")),Object(l.b)("p",null,"Marking declared code as ",Object(l.b)("inlineCode",{parentName:"p"},"public")," means that it can be accessed across different modules and files, but it ",Object(l.b)("em",{parentName:"p"},"cannot")," be subclassed. A good example is the ",Object(l.b)("inlineCode",{parentName:"p"},"init")," function of a class in order to prevent abnormal initialization made by other developers."),Object(l.b)("h3",null,Object(l.b)("inlineCode",{parentName:"h3"},"open")),Object(l.b)("p",null,"The most unrestricted access control level. All ",Object(l.b)("inlineCode",{parentName:"p"},"open")," declared code can be accessed and subclassed with no restriction ",Object(l.b)("em",{parentName:"p"},"among modules"),". The ",Object(l.b)("inlineCode",{parentName:"p"},"open")," function and properties within the class can even be overriden."),Object(l.b)("p",null,"For example, ",Object(l.b)("inlineCode",{parentName:"p"},"UICollectionView")," is an ",Object(l.b)("inlineCode",{parentName:"p"},"open")," class in that developers can create a custom ",Object(l.b)("inlineCode",{parentName:"p"},"UICollectionView"),"."),Object(l.b)("h2",null,"Summary"),Object(l.b)("p",null,"Access Control provides a great tool for developers to restrict access rights of declared code. It is useful when you are developing and SDK or API for other developers to implement. They include:"),Object(l.b)("ol",null,Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"private")," - Most restricted. Properties can only be accessed within the current enclosing type."),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"fileprivate")," - Can only be accessed within the same file"),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"internal")," - This is the default access control and can be accessed within the same module freely."),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"public")," - Class can be accessed across different modules (app module and 3rd party library) but cannot be subclassed and its content cannot be overridden."),Object(l.b)("li",{parentName:"ol"},Object(l.b)("inlineCode",{parentName:"li"},"open")," - The most unrestricted access control and other developers can subclass it and override those open properties.")),Object(l.b)("p",null,"In order to develop a safe and stable app, it is recommended to consider private first, and then think twice before loosening up the access control."),Object(l.b)("h2",null,"Reference"),Object(l.b)("p",null,Object(l.b)("a",Object(n.a)({parentName:"p"},{href:"https://docs.swift.org/swift-book/LanguageGuide/AccessControl.html"}),"Apple Documentation - Access Control in the Swift Language")))}O.isMDXComponent=!0}},[["Qxux",0,2,1,3]]]);